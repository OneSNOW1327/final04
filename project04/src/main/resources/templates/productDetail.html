<!DOCTYPE html>
<html layout:decorate="~{layout}">
    <div class="container my-3" layout:fragment="content">
    <h1>Product Detail</h1>
    
    <!-- 상품 썸네일 이미지  ProductThumbnail -->
     <div th:each="img : ${productDTO.thumbnailPaths}">
        <img th:src="|/file/display?folder=thumbnails&filename=${img.sysname}|" style="max-width: 400px;">
    </div>
    <a href="/product/basketList">장바구니가기</a>
    <!-- 간략한 상품정보 Product -->
    <h2 th:text="${productDTO.name}">상품명</h2><br>
    <span th:text="|${productDTO.sellPrice}원|">가격</span><br>
    <span th:text="|${productDTO.sellPrice * (1 - productDTO.discount/100)}원|">할인가</span><br>
    <span th:text="|${productDTO.discount}%|">할인률</span>    <br>

    <form th:action="@{|/product/basketAdd|}" method="post">
        <input type="hidden" name="productId" th:value="${productDTO.id}">
        <label th:text="수량"></label>
        <input type="number" name="quantity" min="1" value="1">
        <input type="submit" value="장바구니"> 
    </form> 
    <form th:attr="id='form-' + ${productDTO.id}" th:action="@{|/바로구매/|}" method="post">
        <input type="hidden" name="productId" th:value="${productDTO.id}">
        <input type="submit" value="바로구매"> 
    </form>
    <form th:attr="id='form-' + ${productDTO.id}" th:action="@{|/찜♥/|}" method="post">
        <input type="hidden" name="productId" th:value="${productDTO.id}">
        <input type="submit" value="찜♥"> 
    </form> 

    <!-- 상품상세 이미지 ProductImg -->
      <div th:each="img : ${productDTO.descriptionImagePaths}">
        <img th:src="|/file/display?folder=descriptions&filename=${img.sysname}|" style="max-width: 400px;">
    </div>

</div>
</html>
